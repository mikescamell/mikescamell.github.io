
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>How to use Shared Element Transitions with Activities</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" type="text/css" href="../assets/built/screen.css?v=bd286ef966">

    <meta name="description" content="A tutorial to show how to implement simple Shared Element Transitions when going from Activity to Activity.">
    <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">
    <link rel="canonical" href="index.html">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <link rel="amphtml" href="amp/index.html">
    
    <meta property="og:site_name" content="Mike Scamell">
    <meta property="og:type" content="article">
    <meta property="og:title" content="How to use Shared Element Transitions with Activities">
    <meta property="og:description" content="Shared Element Transitions are a great way of implementing Material motion
[https://material.io/guidelines/motion/material-motion.html]  and adding some
flair to your app. Shared element transitions help the user on their journey
through your app by giving them a focal point as they go from screen to screen.
They can make your app feel whole, rather than a bunch of separate screens
slapped together. They shouldn't be abused though, in some case too many
elements darting all over the screen may m">
    <meta property="og:url" content="https://mikescamell.com/shared-element-transitions-part-1/">
    <meta property="og:image" content="https://mikescamell.com/content/images/2018/11/activity_transistion_feature.png">
    <meta property="article:published_time" content="2017-01-31T14:00:00.000Z">
    <meta property="article:modified_time" content="2018-11-18T21:33:36.000Z">
    <meta property="article:tag" content="androiddev">
    <meta property="article:tag" content="sharedelementtranistions">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="How to use Shared Element Transitions with Activities">
    <meta name="twitter:description" content="Shared Element Transitions are a great way of implementing Material motion
[https://material.io/guidelines/motion/material-motion.html]  and adding some
flair to your app. Shared element transitions help the user on their journey
through your app by giving them a focal point as they go from screen to screen.
They can make your app feel whole, rather than a bunch of separate screens
slapped together. They shouldn't be abused though, in some case too many
elements darting all over the screen may m">
    <meta name="twitter:url" content="https://mikescamell.com/shared-element-transitions-part-1/">
    <meta name="twitter:image" content="https://mikescamell.com/content/images/2018/11/activity_transistion_feature.png">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Mike Scamell">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="androiddev, sharedelementtranistions">
    <meta name="twitter:site" content="@mikescamell">
    <meta name="twitter:creator" content="@mikescamell">
    <meta property="og:image:width" content="1280">
    <meta property="og:image:height" content="720">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Mike Scamell",
        "logo": {
            "@type": "ImageObject",
            "url": "https://mikescamell.com/favicon.ico",
            "width": 60,
            "height": 60
        }
    },
    "author": {
        "@type": "Person",
        "name": "Mike Scamell",
        "image": {
            "@type": "ImageObject",
            "url": "//www.gravatar.com/avatar/2a389d50c33966a79a8cf6fe29c6080e?s=250&d=mm&r=x",
            "width": 250,
            "height": 250
        },
        "url": "https://mikescamell.com/author/mike/",
        "sameAs": [
            "https://twitter.com/mikescamell"
        ]
    },
    "headline": "How to use Shared Element Transitions with Activities",
    "url": "https://mikescamell.com/shared-element-transitions-part-1/",
    "datePublished": "2017-01-31T14:00:00.000Z",
    "dateModified": "2018-11-18T21:33:36.000Z",
    "image": {
        "@type": "ImageObject",
        "url": "https://mikescamell.com/content/images/2018/11/activity_transistion_feature.png",
        "width": 1280,
        "height": 720
    },
    "keywords": "androiddev, sharedelementtranistions",
    "description": "Shared Element Transitions are a great way of implementing Material motion\n[https://material.io/guidelines/motion/material-motion.html]  and adding some\nflair to your app. Shared element transitions help the user on their journey\nthrough your app by giving them a focal point as they go from screen to screen.\nThey can make your app feel whole, rather than a bunch of separate screens\nslapped together. They shouldn&#x27;t be abused though, in some case too many\nelements darting all over the screen may m",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://mikescamell.com/"
    }
}
    </script>

    <script src="../public/ghost-sdk.js?v=bd286ef966"></script>
<script>
ghost.init({
	clientId: "ghost-frontend",
	clientSecret: "07d57a1d866f"
});
</script>
    <meta name="generator" content="Ghost 2.21">
    <link rel="alternate" type="application/rss+xml" title="Mike Scamell" href="../rss/index.html">
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-59786101-4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-59786101-4');
</script>

</head>
<body class="post-template tag-androiddev tag-sharedelementtranistions">

    <div class="site-wrapper">

        

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
                <a class="site-nav-logo" href="../">Mike Scamell</a>
            <ul class="nav" role="menu">
    <li class="nav-blog" role="menuitem"><a href="../">Blog</a></li>
    <li class="nav-talks" role="menuitem"><a href="../talks/">Talks</a></li>
    <li class="nav-github" role="menuitem"><a href="https://github.com/mikescamell">Github</a></li>
</ul>

    </div>
    <div class="site-nav-right">
        <div class="social-links">
                <a class="social-link social-link-tw" href="https://twitter.com/mikescamell" title="Twitter" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"></path></svg>
</a>
        </div>
            <a class="rss-button" href="https://feedly.com/i/subscription/feed/https://mikescamell.com/rss/" title="RSS" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><circle cx="6.18" cy="17.82" r="2.18"></circle><path d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"></path></svg>
</a>
    </div>
</nav>
    </div>
</header>


<main id="site-main" class="site-main outer">
    <div class="inner">

        <article class="post-full post tag-androiddev tag-sharedelementtranistions ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="2017-01-31">31 January 2017</time>
                        <span class="date-divider">/</span> <a href="../tag/androiddev/">androiddev</a>
                </section>
                <h1 class="post-full-title">Shared Element Transitions - Part 1: Activities</h1>
            </header>

            <figure class="post-full-image">
                <img srcset="../content/images/size/w300/2018/11/activity_transistion_feature.png 300w,
                           ../content/images/size/w600/2018/11/activity_transistion_feature.pngg 600w,
                          ../content/images/size/w1000/2018/11/activity_transistion_feature.png 1000w,
                         ../content/images/size/w2000/2018/11/activity_transistion_feature.png 2000w" sizes="(max-width: 800px) 400px,
                            (max-width: 1170px) 700px,
                            1400px" src="../content/images/size/w2000/2018/11/activity_transistion_feature.png" alt="Shared Element Transitions - Part 1: Activities">
            </figure>

            <section class="post-full-content">
                <div class="post-content">
                    <p>Shared Element Transitions are a great way of implementing <a href="https://material.io/guidelines/motion/material-motion.html">Material motion</a> and adding some flair to your app. Shared element transitions help the user on their journey through your app by giving them a focal point as they go from screen to screen. They can make your app feel whole, rather than a bunch of separate screens slapped together. They shouldn't be abused though, in some case too many elements darting all over the screen may make the user feel a bit sick!</p><p>In part 1 I'm going to take you through creating shared element transitions for <code>Activity</code> to <code>Activity</code> scenarios. In later posts we'll explore <code>Fragment</code> to <code>Fragment</code>, <code>RecyclerView</code> and setting up some combinations. If there are any other scenarios you would like to see then please <a href="https://twitter.com/mikescamell">tweet</a> me or let me know in the comments.</p><p>Shared element transitions are only available on 21+. This won't affect older Android versions where everything reverts to a default transition when moving between screens. That is provided you've wrapped any logic appropriately so that the app doesn't crash at runtime (Android Studio should warn you about this).</p><h2 id="how-do-they-work">How do they work?</h2><p>Here's a simple example:</p><ul><li>Activity A has an image in it. When you tap the image you launch Activity B.</li><li>Activity B loads everything transparently on screen.</li><li>The framework does some calculations, finding out where the image is starting and where it's going to end, taking into consideration how it's being asked to do it (the type of transition).</li><li>It creates an <code>Animator</code> using the differences which handles moving everything for you.</li><li>The framework finally tells Activity A to hide it's shared element, runs the animator with Activity B's shared element animating into it's final position.</li></ul><p>A more detailed explanation can be found <a href="http://www.androiddesignpatterns.com/2015/01/activity-fragment-shared-element-transitions-in-depth-part3a.html">here</a> in this great article by Alex Lockwood.</p><p>Shared element transitions take place in the window's <code>ViewOverlay</code>. This overlay layer sits on top of all other views, ensuring that any shared element set doesn't get drawn over ruining the Shared Element Transition experience.</p><p>A great example is in Google Play Music. When selecting an album from a list you are transitioned to a detail screen listing the album's songs. The album cover is a shared element, transitioning from a small square to a larger one at the top of the screen.</p><figure class="kg-card kg-image-card"><img src="../content/images/2017/02/shared_element_part_1_example.gif" class="kg-image" alt="Google Play Music Shared Element Transition Example"></figure><p>We're going to create something similar but simpler. With animals. Everyone loves animals.</p><h2 id="activity-to-activity">Activity to Activity</h2><p>First of all we need to enable <code>windowContentTransitions</code>. If you are targeting &lt;21 then you'll need to use your <code>styles.xml</code> within a <code>values-v21</code> folder. Add this line to your base application theme in the appropriate <code>styles</code> file:</p><pre><code>&lt;!-- Base application theme. --&gt;
&lt;style name="AppTheme" parent="Theme.AppCompat.Light.DarkActionBar"&gt;
        //add this line to your file
    &lt;item name="android:windowContentTransitions"&gt;true&lt;/item&gt;
&lt;/style&gt;
</code></pre><p>Shared element transitions from activities are simple to implement. Let's assume you have two activities, <code>ActivityA</code> and <code>ActivityB</code>. <code>ActivityA</code> contains a single button and an <code>ImageView</code>. <code>ActivityB</code> contains a larger <code>ImageView</code> at the top and some detail text underneath. Something like this:</p><figure class="kg-card kg-image-card"><img src="../content/images/2017/01/a-and-b.png" class="kg-image" alt="Screenshots of Activity A and B"></figure><p>There are two ways of defining shared element transitions. You can do them in your XML layout using the <code>transitionName</code> attribute or programatically by calling <code>setTransitionName()</code> on a <code>View</code>. We're going to be using the former as it's easier but a future blog post will detail setting them dynamically.</p><p>First let's set the <code>transitionName</code> on BOTH our <code>ImageView</code> in our XML layouts. This is so that the framework knows where we want our transitioning <code>ImageView</code> to go. It's pretty simple, just add the attribute like so:</p><pre><code>&lt;ImageView
    android:id="@+id/simple_activity_a_imageView"
    android:layout_width="128dp"
    android:layout_height="96dp"
    android:layout_alignParentBottom="true"
    android:layout_centerHorizontal="true"
    android:layout_marginBottom="80dp"
    android:scaleType="centerCrop"
    android:src="@drawable/lion"
    android:transitionName="simple_activity_transition"
    tools:ignore="UnusedAttribute" /&gt;
</code></pre><p>Note: I'm entering the <code>String</code> for clarity in this post but I advise that you actually place this in your <code>strings.xml</code>, like I do in the source code. You may get some lint warnings if you target &lt;21 so you can either ignore them as is done above with <code>tools:ignore="UnusedAttribute"</code>.</p><p>The <code>transitionName</code> has to be unique <s>on the screen to any other element transitions you have. Otherwise you’ll just confuse the framework and may get some weird results.</s> in the view hierarchy. That means that <code>ActivityA</code> and <code>ActivityB</code> <code>ImageView</code> can have different <code>transitionName</code>. I find it easier to keep them the same but it's not necessary.</p><p>In <code>ActivityA</code> in the <code>OnClickListener</code> for our button we want the following:</p><pre><code>Intent intent = new Intent(SimpleActivityA.this, SimpleActivityB.class);
ActivityOptionsCompat options = ActivityOptionsCompat.
                       makeSceneTransitionAnimation(SimpleActivityA.this,
                            imageView,
                            ViewCompat.getTransitionName(imageView));
startActivity(intent, options.toBundle());
</code></pre><p>On line 1 we're just creating an <code>Intent</code> that we're going to use to launch <code>ActivityB</code>. In line 2 were creating a options file with <code>ActivityOptionsCompat</code> from the support library. If you're supporting 21+ you can just use <code>ActivityOptions</code>. The <code>makeSceneTransitionAnimation()</code> creates our animation. We just have to pass it 3 things. The first is simply a <code>Context</code>. Secondly we need the <code>sharedElement</code>that is transitioning which is of type <code>View</code>. Finally the <code>sharedElementName</code> which is also the <code>transitionName</code> <s>that we set on both our <code>View</code>s in our XML layouts</s> which has to match the target <code>View</code> <code>transitionName</code>. Note the last parameter should not be <code>null</code> even though it's possible to pass it in with no lint warnings 😕</p><p>We give it <code>SimpleActivityA.this</code> for our context (we're in the <code>OnClickListener</code> for the button remember). Next we pass in our <code>ImageView</code> that is transitioning. <s>Finally we pass in our <code>transitionName</code> we set on the <code>View</code>s in our layouts, <code>"simple_activity_transition"</code></s>. Finally, we use <code>ViewCompat</code> to get the <code>transitionName</code> from the <code>ImageView</code>. If <code>ActivityB</code> <code>ImageView</code> had a different <code>transitionName</code> then this it where you'd specify it.</p><p>In the last line we start our activity and add our <code>options</code> alongside it as a <code>Bundle</code>.</p><p><code>ActivityB</code> needs little setup. As long as you have added the <code>transitionName</code> to the layout for it <s>as well as set the SAME on the <code>ImageView</code></s> and it's the same one specified when creating the <code>ActivityOptionsCompat</code> in <code>ActivityB</code>, it should now just work 😃</p><figure class="kg-card kg-embed-card"><iframe width="459" height="344" src="https://www.youtube.com/embed/WXVywnBSjAo?feature=oembed" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></figure><p>The source code for Part 1 can be found <a href="http://bit.ly/sharedelement">here</a></p><p>In Part 2 next week we'll explore doing <code>Fragment</code> to <code>Fragment</code> shared element transitions.</p><p><em>Update (5/03/17): I've made some minor adjustments to this post since first releasing. There's nothing better than having 1000's of eyes on your work for reviewing!</em></p><p><em>Thanks to Wesley Ellis, Dimitris Karittevlis and Marcos Holgado for proof reading</em></p>
                </div>
            </section>


            <footer class="post-full-footer">


                    
<section class="author-card">
        <img class="author-profile-image" src="http://www.gravatar.com/avatar/2a389d50c33966a79a8cf6fe29c6080e?s=250&amp;d=mm&amp;r=x" alt="Mike Scamell">
    <section class="author-card-content">
        <h4 class="author-card-name"><a href="../author/mike/">Mike Scamell</a></h4>
            <p>Read <a href="../author/mike/">more posts</a> by this author.</p>
    </section>
</section>
<div class="post-full-footer-right">
    <a class="author-card-button" href="../author/mike/">Read More</a>
</div>


            </footer>


        </article>

    </div>
</main>

<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
                <article class="read-next-card">
                    <header class="read-next-card-header">
                        <small class="read-next-card-header-sitetitle">— Mike Scamell —</small>
                        <h3 class="read-next-card-header-title"><a href="../tag/androiddev/">androiddev</a></h3>
                    </header>
                    <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"></path></svg>
</div>
                    <div class="read-next-card-content">
                        <ul>
                            <li><a href="../bottoms-up-bottomnavigationview-updates-in-the-material-design-design-support-library/">Bottoms Up! - BottomNavigationView Updates in the Material Components/Design Support Library</a></li>
                            <li><a href="../a-sloths-guide-to-learning-kotlin/">A Sloth's guide to learning Kotlin</a></li>
                            <li><a href="../shared-element-transitions-updates/">Shared Element Transitions - Updates</a></li>
                        </ul>
                    </div>
                    <footer class="read-next-card-footer">
                        <a href="../tag/androiddev/">See all 9 posts →</a>
                    </footer>
                </article>

                <article class="post-card post tag-androiddev tag-sharedelementtranistions ">

    <a class="post-card-image-link" href="../shared-element-transitions-part-2/">
        <img class="post-card-image" srcset="../content/images/size/w300/2018/11/shared_element_part_2-4.png 300w,
                   ../content/images/size/w600/2018/11/shared_element_part_2-4.pngg 600w,
                  ../content/images/size/w1000/2018/11/shared_element_part_2-4.png 1000w,
                 ../content/images/size/w2000/2018/11/shared_element_part_2-4.png 2000w" sizes="(max-width: 1000px) 400px, 700px" src="../content/images/size/w600/2018/11/shared_element_part_2-4.png" alt="Shared Element Transitions - Part 2: Fragments">
    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="../shared-element-transitions-part-2/">

            <header class="post-card-header">
                    <span class="post-card-tags">androiddev</span>
                <h2 class="post-card-title">Shared Element Transitions - Part 2: Fragments</h2>
            </header>

            <section class="post-card-excerpt">
                <p>In part 1 we learned what Shared Element Transitions are, how they work and a simple example using Activity to Activity.In part 2 we're going to learn a little more on how</p>
            </section>

        </a>

        <footer class="post-card-meta">

            <ul class="author-list">
                <li class="author-list-item">

                    <div class="author-name-tooltip">
                        Mike Scamell
                    </div>

                        <a href="../author/mike/" class="static-avatar">
                            <img class="author-profile-image" src="http://www.gravatar.com/avatar/2a389d50c33966a79a8cf6fe29c6080e?s=250&amp;d=mm&amp;r=x" alt="Mike Scamell">
                        </a>
                </li>
            </ul>

            <span class="reading-time">4 min read</span>

        </footer>

    </div>

</article>

                <article class="post-card post tag-androiddev tag-okhttp ">

    <a class="post-card-image-link" href="../gotcha-when-offline-caching-with-okhttp3/">
        <img class="post-card-image" srcset="../content/images/size/w300/2018/11/7spg5olfexc-roman-kraft--1-.jpg 300w,
                   ../content/images/size/w600/2018/11/7spg5olfexc-roman-kraft--1-.jpgg 600w,
                  ../content/images/size/w1000/2018/11/7spg5olfexc-roman-kraft--1-.jpg 1000w,
                 ../content/images/size/w2000/2018/11/7spg5olfexc-roman-kraft--1-.jpg 2000w" sizes="(max-width: 1000px) 400px, 700px" src="../content/images/size/w600/2018/11/7spg5olfexc-roman-kraft--1-.jpg" alt="Gotcha when offline caching with OkHttp3">
    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="../gotcha-when-offline-caching-with-okhttp3/">

            <header class="post-card-header">
                    <span class="post-card-tags">androiddev</span>
                <h2 class="post-card-title">Gotcha when offline caching with OkHttp3</h2>
            </header>

            <section class="post-card-excerpt">
                <p>I recently was trying to use an offline cache with OkHttp to store some information. This is handy if the user goes offline and we want them to still see some information.I'd</p>
            </section>

        </a>

        <footer class="post-card-meta">

            <ul class="author-list">
                <li class="author-list-item">

                    <div class="author-name-tooltip">
                        Mike Scamell
                    </div>

                        <a href="../author/mike/" class="static-avatar">
                            <img class="author-profile-image" src="http://www.gravatar.com/avatar/2a389d50c33966a79a8cf6fe29c6080e?s=250&amp;d=mm&amp;r=x" alt="Mike Scamell">
                        </a>
                </li>
            </ul>

            <span class="reading-time">2 min read</span>

        </footer>

    </div>

</article>

        </div>
    </div>
</aside>

<div class="floating-header">
    <div class="floating-header-logo">
        <a href="../">
            <span>Mike Scamell</span>
        </a>
    </div>
    <span class="floating-header-divider">—</span>
    <div class="floating-header-title">Shared Element Transitions - Part 1: Activities</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"></path>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=Shared%20Element%20Transitions%20-%20Part%201%3A%20Activities&amp;url=https://mikescamell.com/shared-element-transitions-part-1/" onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"></path></svg>
        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://mikescamell.com/shared-element-transitions-part-1/" onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"></path></svg>
        </a>
    </div>
    <progress id="reading-progress" class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>




        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="../">Mike Scamell</a> © 2019</section>
                <nav class="site-footer-nav">
                    <a href="../">Latest Posts</a>
                    
                    <a href="https://twitter.com/mikescamell" target="_blank" rel="noopener">Twitter</a>
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>


    <script>
        var images = document.querySelectorAll('.kg-gallery-image img');
        images.forEach(function (image) {
            var container = image.closest('.kg-gallery-image');
            var width = image.attributes.width.value;
            var height = image.attributes.height.value;
            var ratio = width / height;
            container.style.flex = ratio + ' 1 0%';
        })
    </script>


    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="../assets/built/jquery.fitvids.js?v=bd286ef966"></script>


    <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('#reading-progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();

});
</script>


    

</body>
