
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>How to use Shared Element Transitions with Fragments</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" type="text/css" href="../assets/built/screen.css?v=bd286ef966">

    <meta name="description" content="A tutorial to show how to implement simple Shared Element Transitions when going from Fragment to Fragment.">
    <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">
    <link rel="canonical" href="index.html">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <link rel="amphtml" href="amp/index.html">
    
    <meta property="og:site_name" content="Mike Scamell">
    <meta property="og:type" content="article">
    <meta property="og:title" content="How to use Shared Element Transitions with Fragments">
    <meta property="og:description" content="In part 1 [http://mikescamell.com/shared-element-transitions-part-1/]  we
learned what Shared Element Transitions are, how they work and a simple example
using Activity  to Activity.

In part 2 we're going to learn a little more on how they should be used and then
do a Fragment  to Fragment  example.

Guidelines
There are a few things that should be kept in mind when using Shared Element
Transitions. These come from the Material motion  guidelines mentioned in part
1.

 *   While we want the use">
    <meta property="og:url" content="https://mikescamell.com/shared-element-transitions-part-2/">
    <meta property="og:image" content="https://mikescamell.com/content/images/2018/11/shared_element_part_2-4.png">
    <meta property="article:published_time" content="2017-02-07T14:38:00.000Z">
    <meta property="article:modified_time" content="2018-11-18T21:39:10.000Z">
    <meta property="article:tag" content="androiddev">
    <meta property="article:tag" content="sharedelementtranistions">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="How to use Shared Element Transitions with Fragments">
    <meta name="twitter:description" content="In part 1 [http://mikescamell.com/shared-element-transitions-part-1/]  we
learned what Shared Element Transitions are, how they work and a simple example
using Activity  to Activity.

In part 2 we're going to learn a little more on how they should be used and then
do a Fragment  to Fragment  example.

Guidelines
There are a few things that should be kept in mind when using Shared Element
Transitions. These come from the Material motion  guidelines mentioned in part
1.

 *   While we want the use">
    <meta name="twitter:url" content="https://mikescamell.com/shared-element-transitions-part-2/">
    <meta name="twitter:image" content="https://mikescamell.com/content/images/2018/11/shared_element_part_2-4.png">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Mike Scamell">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="androiddev, sharedelementtranistions">
    <meta name="twitter:site" content="@mikescamell">
    <meta name="twitter:creator" content="@mikescamell">
    <meta property="og:image:width" content="1280">
    <meta property="og:image:height" content="720">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Mike Scamell",
        "logo": {
            "@type": "ImageObject",
            "url": "https://mikescamell.com/favicon.ico",
            "width": 60,
            "height": 60
        }
    },
    "author": {
        "@type": "Person",
        "name": "Mike Scamell",
        "image": {
            "@type": "ImageObject",
            "url": "//www.gravatar.com/avatar/2a389d50c33966a79a8cf6fe29c6080e?s=250&d=mm&r=x",
            "width": 250,
            "height": 250
        },
        "url": "https://mikescamell.com/author/mike/",
        "sameAs": [
            "https://twitter.com/mikescamell"
        ]
    },
    "headline": "How to use Shared Element Transitions with Fragments",
    "url": "https://mikescamell.com/shared-element-transitions-part-2/",
    "datePublished": "2017-02-07T14:38:00.000Z",
    "dateModified": "2018-11-18T21:39:10.000Z",
    "image": {
        "@type": "ImageObject",
        "url": "https://mikescamell.com/content/images/2018/11/shared_element_part_2-4.png",
        "width": 1280,
        "height": 720
    },
    "keywords": "androiddev, sharedelementtranistions",
    "description": "In part 1 [http://mikescamell.com/shared-element-transitions-part-1/]  we\nlearned what Shared Element Transitions are, how they work and a simple example\nusing Activity  to Activity.\n\nIn part 2 we&#x27;re going to learn a little more on how they should be used and then\ndo a Fragment  to Fragment  example.\n\nGuidelines\nThere are a few things that should be kept in mind when using Shared Element\nTransitions. These come from the Material motion  guidelines mentioned in part\n1.\n\n *   While we want the use",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://mikescamell.com/"
    }
}
    </script>

    <script src="../public/ghost-sdk.js?v=bd286ef966"></script>
<script>
ghost.init({
	clientId: "ghost-frontend",
	clientSecret: "07d57a1d866f"
});
</script>
    <meta name="generator" content="Ghost 2.21">
    <link rel="alternate" type="application/rss+xml" title="Mike Scamell" href="../rss/index.html">
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-59786101-4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-59786101-4');
</script>

</head>
<body class="post-template tag-androiddev tag-sharedelementtranistions">

    <div class="site-wrapper">

        

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
                <a class="site-nav-logo" href="../">Mike Scamell</a>
            <ul class="nav" role="menu">
    <li class="nav-blog" role="menuitem"><a href="../">Blog</a></li>
    <li class="nav-talks" role="menuitem"><a href="../talks/">Talks</a></li>
    <li class="nav-github" role="menuitem"><a href="https://github.com/mikescamell">Github</a></li>
</ul>

    </div>
    <div class="site-nav-right">
        <div class="social-links">
                <a class="social-link social-link-tw" href="https://twitter.com/mikescamell" title="Twitter" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"></path></svg>
</a>
        </div>
            <a class="rss-button" href="https://feedly.com/i/subscription/feed/https://mikescamell.com/rss/" title="RSS" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><circle cx="6.18" cy="17.82" r="2.18"></circle><path d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"></path></svg>
</a>
    </div>
</nav>
    </div>
</header>


<main id="site-main" class="site-main outer">
    <div class="inner">

        <article class="post-full post tag-androiddev tag-sharedelementtranistions ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="2017-02-07">7 February 2017</time>
                        <span class="date-divider">/</span> <a href="../tag/androiddev/">androiddev</a>
                </section>
                <h1 class="post-full-title">Shared Element Transitions - Part 2: Fragments</h1>
            </header>

            <figure class="post-full-image">
                <img srcset="../content/images/size/w300/2018/11/shared_element_part_2-4.png 300w,
                           ../content/images/size/w600/2018/11/shared_element_part_2-4.pngg 600w,
                          ../content/images/size/w1000/2018/11/shared_element_part_2-4.pngng 1000w,
                         ../content/images/size/w2000/2018/11/shared_element_part_2-4.pngpng 2000w" sizes="(max-width: 800px) 400px,
                            (max-width: 1170px) 700px,
                            1400px" src="../content/images/size/w2000/2018/11/shared_element_part_2-4.png" alt="Shared Element Transitions - Part 2: Fragments">
            </figure>

            <section class="post-full-content">
                <div class="post-content">
                    <p>In <a href="http://mikescamell.com/shared-element-transitions-part-1/">part 1</a> we learned what Shared Element Transitions are, how they work and a simple example using <code>Activity</code> to <code>Activity</code>.</p><p>In part 2 we're going to learn a little more on how they should be used and then do a <code>Fragment</code> to <code>Fragment</code> example.</p><h2 id="guidelines">Guidelines</h2><p>There are a few things that should be kept in mind when using Shared Element Transitions. These come from the <a href="https://material.io/guidelines/motion/material-motion.html#material-motion-what-makes-a-good-transition">Material motion</a> guidelines mentioned in part 1.</p><ul><li> While we want the user to marvel at our fantastic new animation, we don't want to impede them on their journey so it's important we animate quickly. If we stagger too many animations or slow it down we're not creating a great user experience. </li><li> Don't do too many Shared Element Transitions at once. When transitioning we want the intention to be clear as possible. Too many Shared Elements potentially crossing paths or moving in different directions can just be confusing. </li><li> Be consistent. If you're using Shared Element Transitions in only one part of your app and you leave out other prime candidates, you're going to have negative impact on the users feelings towards it. It will feel incomplete and will be worse than having no Shared Element Transitions at all. As above though, this doesn't mean go crazy, but by keeping consistency you will help users understand what they mean and their intention. </li></ul><p>To see some prime examples of the above scenarios head <a href="https://material.io/guidelines/motion/material-motion.html#material-motion-what-makes-a-good-transition">here</a>.</p><h2 id="fragment-to-fragment">Fragment to Fragment</h2><p>To get started let's create a simple <code>Activity</code> to hold our <code>Fragment</code>.</p><pre><code>public class FragmentToFragmentActivity extends AppCompatActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_fragment_to_fragment);

        getSupportFragmentManager()
                .beginTransaction()
                .add(R.id.content, SimpleFragmentA.newInstance())
                .commit();
    }
}
</code></pre><p>Nothing special here. We're just launching our <code>SimpleFragmentA</code> in <code>onCreate</code> of our <code>FragmentToFragmentActivity</code> by adding it in a <code>Transaction</code>.</p><p>Now we need to setup our <code>SimpleFragmentA</code>. First of all lets make sure our <code>ImageView</code> in our layout XML has a <code>transitionName</code>.</p><pre><code>    &lt;ImageView
        android:id="@+id/fragment_a_imageView"
        android:layout_width="128dp"
        android:layout_height="96dp"
        android:layout_alignParentBottom="true"
        android:layout_centerHorizontal="true"
        android:layout_marginBottom="80dp"
        android:scaleType="centerCrop"
        android:src="@drawable/gorilla"
        android:transitionName="@string/simple_fragment_transition" /&gt;
</code></pre><p>Just like the <code>Activity</code> example we need to set a <code>transitionName</code> (line 10) on BOTH of the views we intend to be part of our Shared Element Transition. Now to the actual <code>Fragment</code> itself.</p><pre><code>    ...

    @Override
    public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {
        super.onViewCreated(view, savedInstanceState);

        final ImageView imageView = (ImageView) view.findViewById(R.id.fragment_a_imageView);

        Button button = (Button) view.findViewById(R.id.fragment_a_btn);
        button.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                SimpleFragmentB simpleFragmentB = SimpleFragmentB.newInstance();
                getFragmentManager()
                        .beginTransaction()
                        .addSharedElement(imageView, ViewCompat.getTransitionName(imageView))
                        .addToBackStack(TAG)
                        .replace(R.id.content, simpleFragmentB)
                        .commit();
            }
        });
    }
</code></pre><p>Our main concern in <code>SimpleFragmentA</code> is the <code>onViewCreated</code> method. On line 7 we're getting hold of our <code>ImageView</code> from the layout. We'll need this for the Shared Element Transition. Line 9 we're getting our button and in line 8 we're setting an <code>onClickListener</code> to get clicks to launch <code>SimpleFragmentB</code>. Line 14 is where things get interesting.</p><p>We create a <code>Transaction</code> as is normal to launch a new <code>Fragment</code>. On line 16 we actually call <code>addSharedElement</code> and, much like the <code>Activity</code> to <code>Activity</code> example from part 1, we need to give our <code>View</code> and <code>transitionName</code> as parameters. So we give our <code>ImageView</code> and our <code>transitionName</code> <s>which is located in <code>strings.xml</code> (We don't want any spelling or typing mistakes!)</s> which we just use <code>ViewCompat.getTransitionName</code> as we know the <code>transitionName</code> in both layouts is the same. Remember, it doesn't have to be and only needs to be unique in the view hierarchy.</p><p>Line 17 we call <code>addToBackStack</code>. Why? Well otherwise we won't get the nice Shared Element Transition when we press back. If this line is left out, when you press back it would just finish the <code>FragmentToFragmentActivity</code> as there's no history (or nothing in the back stack).</p><p>Line 18 we call <code>replace</code> as we want <code>SimpleFragmentB</code> to completely replace <code>SimpleFragmentA</code>.</p><p>Again not too different to how you would normally launch a <code>Fragment</code>. Finally lets get <code>SimpleFragmentB</code> setup.</p><pre><code>    @Override
    public void onCreate(@Nullable Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {
            setSharedElementEnterTransition(TransitionInflater.from(getContext()).inflateTransition(android.R.transition.move));
        }
    }
</code></pre><p>Apart from inflating our layout (not shown here) and adding a <code>transitionName</code> to the <code>ImageView</code> in our layout xml (as above in <code>SimpleFragmentA</code>), this is the only other thing we need to do.</p><p>So all we need to do is call <code>setSharedElementTransition</code> and pass in a <code>Transition</code> by inflating one provided to us from resources. This is only available on 21+, which is why we wrap it in an <code>if</code>. By default the "move" transition combines 4 different types.</p><pre><code>&lt;transitionSet xmlns:android="http://schemas.android.com/apk/res/android"&gt;
    &lt;changeBounds/&gt;
    &lt;changeTransform/&gt;
    &lt;changeClipBounds/&gt;
    &lt;changeImageTransform/&gt;
&lt;/transitionSet&gt;
</code></pre><p>We'll go into these in a bit more detail in a future post. But for now, by using these, we're using the same default style of <code>Transition</code> that we used in the <code>Activity</code> to <code>Activity</code> example in part 1.</p><p>And that's it. If we run it, we should have something identical to part 1 except with a Gorilla 😃</p><figure class="kg-card kg-embed-card"><iframe width="459" height="344" src="https://www.youtube.com/embed/_1FlXs78fD8?feature=oembed" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></figure><p>The source code for part 2 can be found <a href="http://bit.ly/sharedelement">here</a> alongside part 1.</p><p>In part 3 we'll look at how we can use Picasso and Glide with Shared Element Transitions.</p><p><em>Update (5/03/17): I've made some minor adjustments to this post since first releasing. There's nothing better than having 1000's of eyes on your work for reviewing!</em></p><p><em>Thanks to Wesley Ellis, Dimitris Karittevlis and Marcos Holgado for proof reading</em></p>
                </div>
            </section>


            <footer class="post-full-footer">


                    
<section class="author-card">
        <img class="author-profile-image" src="http://www.gravatar.com/avatar/2a389d50c33966a79a8cf6fe29c6080e?s=250&amp;d=mm&amp;r=x" alt="Mike Scamell">
    <section class="author-card-content">
        <h4 class="author-card-name"><a href="../author/mike/">Mike Scamell</a></h4>
            <p>Read <a href="../author/mike/">more posts</a> by this author.</p>
    </section>
</section>
<div class="post-full-footer-right">
    <a class="author-card-button" href="../author/mike/">Read More</a>
</div>


            </footer>


        </article>

    </div>
</main>

<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
                <article class="read-next-card">
                    <header class="read-next-card-header">
                        <small class="read-next-card-header-sitetitle">— Mike Scamell —</small>
                        <h3 class="read-next-card-header-title"><a href="../tag/androiddev/">androiddev</a></h3>
                    </header>
                    <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"></path></svg>
</div>
                    <div class="read-next-card-content">
                        <ul>
                            <li><a href="../bottoms-up-bottomnavigationview-updates-in-the-material-design-design-support-library/">Bottoms Up! - BottomNavigationView Updates in the Material Components/Design Support Library</a></li>
                            <li><a href="../a-sloths-guide-to-learning-kotlin/">A Sloth's guide to learning Kotlin</a></li>
                            <li><a href="../shared-element-transitions-updates/">Shared Element Transitions - Updates</a></li>
                        </ul>
                    </div>
                    <footer class="read-next-card-footer">
                        <a href="../tag/androiddev/">See all 9 posts →</a>
                    </footer>
                </article>

                <article class="post-card post tag-androiddev tag-sharedelementtranistions ">

    <a class="post-card-image-link" href="../shared-element-transitions-part-3/">
        <img class="post-card-image" srcset="../content/images/size/w300/2018/11/shared_elements_part_3-6.png 300w,
                   ../content/images/size/w600/2018/11/shared_elements_part_3-6.pngg 600w,
                  ../content/images/size/w1000/2018/11/shared_elements_part_3-6.pngng 1000w,
                 ../content/images/size/w2000/2018/11/shared_elements_part_3-6.pngpng 2000w" sizes="(max-width: 1000px) 400px, 700px" src="../content/images/size/w600/2018/11/shared_elements_part_3-6.png" alt="Shared Element Transitions - Part 3: Picasso &amp; Glide">
    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="../shared-element-transitions-part-3/">

            <header class="post-card-header">
                    <span class="post-card-tags">androiddev</span>
                <h2 class="post-card-title">Shared Element Transitions - Part 3: Picasso &amp; Glide</h2>
            </header>

            <section class="post-card-excerpt">
                <p>In part 2 of this series we looked at guidelines for implementing our Shared Element Transitions and also how we utilise them when going from Fragment to Fragment.In part 3 we're going</p>
            </section>

        </a>

        <footer class="post-card-meta">

            <ul class="author-list">
                <li class="author-list-item">

                    <div class="author-name-tooltip">
                        Mike Scamell
                    </div>

                        <a href="../author/mike/" class="static-avatar">
                            <img class="author-profile-image" src="http://www.gravatar.com/avatar/2a389d50c33966a79a8cf6fe29c6080e?s=250&amp;d=mm&amp;r=x" alt="Mike Scamell">
                        </a>
                </li>
            </ul>

            <span class="reading-time">4 min read</span>

        </footer>

    </div>

</article>

                <article class="post-card post tag-androiddev tag-sharedelementtranistions ">

    <a class="post-card-image-link" href="../shared-element-transitions-part-1/">
        <img class="post-card-image" srcset="../content/images/size/w300/2018/11/activity_transistion_feature.png 300w,
                   ../content/images/size/w600/2018/11/activity_transistion_feature.pngg 600w,
                  ../content/images/size/w1000/2018/11/activity_transistion_feature.pngng 1000w,
                 ../content/images/size/w2000/2018/11/activity_transistion_feature.pngpng 2000w" sizes="(max-width: 1000px) 400px, 700px" src="../content/images/size/w600/2018/11/activity_transistion_feature.png" alt="Shared Element Transitions - Part 1: Activities">
    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="../shared-element-transitions-part-1/">

            <header class="post-card-header">
                    <span class="post-card-tags">androiddev</span>
                <h2 class="post-card-title">Shared Element Transitions - Part 1: Activities</h2>
            </header>

            <section class="post-card-excerpt">
                <p>Shared Element Transitions are a great way of implementing Material motion and adding some flair to your app. Shared element transitions help the user on their journey through your app by giving them</p>
            </section>

        </a>

        <footer class="post-card-meta">

            <ul class="author-list">
                <li class="author-list-item">

                    <div class="author-name-tooltip">
                        Mike Scamell
                    </div>

                        <a href="../author/mike/" class="static-avatar">
                            <img class="author-profile-image" src="http://www.gravatar.com/avatar/2a389d50c33966a79a8cf6fe29c6080e?s=250&amp;d=mm&amp;r=x" alt="Mike Scamell">
                        </a>
                </li>
            </ul>

            <span class="reading-time">5 min read</span>

        </footer>

    </div>

</article>

        </div>
    </div>
</aside>

<div class="floating-header">
    <div class="floating-header-logo">
        <a href="../">
            <span>Mike Scamell</span>
        </a>
    </div>
    <span class="floating-header-divider">—</span>
    <div class="floating-header-title">Shared Element Transitions - Part 2: Fragments</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"></path>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=Shared%20Element%20Transitions%20-%20Part%202%3A%20Fragments&amp;url=https://mikescamell.com/shared-element-transitions-part-2/" onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"></path></svg>
        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://mikescamell.com/shared-element-transitions-part-2/" onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"></path></svg>
        </a>
    </div>
    <progress id="reading-progress" class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>




        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="../">Mike Scamell</a> © 2019</section>
                <nav class="site-footer-nav">
                    <a href="../">Latest Posts</a>
                    
                    <a href="https://twitter.com/mikescamell" target="_blank" rel="noopener">Twitter</a>
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>


    <script>
        var images = document.querySelectorAll('.kg-gallery-image img');
        images.forEach(function (image) {
            var container = image.closest('.kg-gallery-image');
            var width = image.attributes.width.value;
            var height = image.attributes.height.value;
            var ratio = width / height;
            container.style.flex = ratio + ' 1 0%';
        })
    </script>


    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="../assets/built/jquery.fitvids.js?v=bd286ef966"></script>


    <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('#reading-progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();

});
</script>


    

</body>
