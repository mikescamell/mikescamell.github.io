<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>BottomNavigationView Updates in the Material Component/Support Library</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" type="text/css" href="../assets/built/screen.css?v=bd286ef966">

    <meta name="description" content="The BottomNavigationView has been updated in the Material Components &amp; Design Support Library so you can now set labels, icon sizes, text style and more!">
    <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">
    <link rel="canonical" href="index.html">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <link rel="amphtml" href="amp/index.html">
    
    <meta property="og:site_name" content="Mike Scamell">
    <meta property="og:type" content="article">
    <meta property="og:title" content="BottomNavigationView Updates in the Material Component/Support Library">
    <meta property="og:description" content="I've just removed the design support library and added the new Material
Components library (com.google.android.material:material:1.0.0-alpha3  as of
writing) and currently there's some sea birds outside making noises that are
hard to describe. But this is about the BottomNavigationView  that resides in
there and some updates that have been long awaited. (This should be the same if
you update the design support library to 28.0.0-alpha3, which just brings the
new Material Components support librar">
    <meta property="og:url" content="https://mikescamell.com/bottoms-up-bottomnavigationview-updates-in-the-material-design-design-support-library/">
    <meta property="og:image" content="https://mikescamell.com/content/images/2019/04/bottomappbar-3.jpg">
    <meta property="article:published_time" content="2018-06-18T23:42:00.000Z">
    <meta property="article:modified_time" content="2019-04-23T12:31:01.000Z">
    <meta property="article:tag" content="androiddev">
    <meta property="article:tag" content="bottomnavigationview">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="BottomNavigationView Updates in the Material Component/Support Library">
    <meta name="twitter:description" content="I've just removed the design support library and added the new Material
Components library (com.google.android.material:material:1.0.0-alpha3  as of
writing) and currently there's some sea birds outside making noises that are
hard to describe. But this is about the BottomNavigationView  that resides in
there and some updates that have been long awaited. (This should be the same if
you update the design support library to 28.0.0-alpha3, which just brings the
new Material Components support librar">
    <meta name="twitter:url" content="https://mikescamell.com/bottoms-up-bottomnavigationview-updates-in-the-material-design-design-support-library/">
    <meta name="twitter:image" content="https://mikescamell.com/content/images/2019/04/bottomappbar-3.jpg">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Mike Scamell">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="androiddev, bottomnavigationview">
    <meta name="twitter:site" content="@mikescamell">
    <meta name="twitter:creator" content="@mikescamell">
    <meta property="og:image:width" content="1270">
    <meta property="og:image:height" content="719">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Mike Scamell",
        "logo": {
            "@type": "ImageObject",
            "url": "https://mikescamell.com/favicon.ico",
            "width": 60,
            "height": 60
        }
    },
    "author": {
        "@type": "Person",
        "name": "Mike Scamell",
        "image": {
            "@type": "ImageObject",
            "url": "//www.gravatar.com/avatar/2a389d50c33966a79a8cf6fe29c6080e?s=250&d=mm&r=x",
            "width": 250,
            "height": 250
        },
        "url": "https://mikescamell.com/author/mike/",
        "sameAs": [
            "https://twitter.com/mikescamell"
        ]
    },
    "headline": "BottomNavigationView Updates in the Material Component/Support Library",
    "url": "https://mikescamell.com/bottoms-up-bottomnavigationview-updates-in-the-material-design-design-support-library/",
    "datePublished": "2018-06-18T23:42:00.000Z",
    "dateModified": "2019-04-23T12:31:01.000Z",
    "image": {
        "@type": "ImageObject",
        "url": "https://mikescamell.com/content/images/2019/04/bottomappbar-3.jpg",
        "width": 1270,
        "height": 719
    },
    "keywords": "androiddev, bottomnavigationview",
    "description": "I&#x27;ve just removed the design support library and added the new Material\nComponents library (com.google.android.material:material:1.0.0-alpha3  as of\nwriting) and currently there&#x27;s some sea birds outside making noises that are\nhard to describe. But this is about the BottomNavigationView  that resides in\nthere and some updates that have been long awaited. (This should be the same if\nyou update the design support library to 28.0.0-alpha3, which just brings the\nnew Material Components support librar",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://mikescamell.com/"
    }
}
    </script>

    <script src="../public/ghost-sdk.js?v=bd286ef966"></script>
<script>
ghost.init({
	clientId: "ghost-frontend",
	clientSecret: "07d57a1d866f"
});
</script>
    <meta name="generator" content="Ghost 2.21">
    <link rel="alternate" type="application/rss+xml" title="Mike Scamell" href="../rss/index.html">
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-59786101-4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-59786101-4');
</script>

</head>
<body class="post-template tag-androiddev tag-bottomnavigationview">

    <div class="site-wrapper">

        

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
                <a class="site-nav-logo" href="../">Mike Scamell</a>
            <ul class="nav" role="menu">
    <li class="nav-blog" role="menuitem"><a href="../">Blog</a></li>
    <li class="nav-talks" role="menuitem"><a href="../talks/">Talks</a></li>
    <li class="nav-github" role="menuitem"><a href="https://github.com/mikescamell">Github</a></li>
</ul>

    </div>
    <div class="site-nav-right">
        <div class="social-links">
                <a class="social-link social-link-tw" href="https://twitter.com/mikescamell" title="Twitter" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"></path></svg>
</a>
        </div>
            <a class="rss-button" href="https://feedly.com/i/subscription/feed/https://mikescamell.com/rss/" title="RSS" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><circle cx="6.18" cy="17.82" r="2.18"></circle><path d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"></path></svg>
</a>
    </div>
</nav>
    </div>
</header>


<main id="site-main" class="site-main outer">
    <div class="inner">

        <article class="post-full post tag-androiddev tag-bottomnavigationview ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="2018-06-19">19 June 2018</time>
                        <span class="date-divider">/</span> <a href="../tag/androiddev/">androiddev</a>
                </section>
                <h1 class="post-full-title">Bottoms Up! - BottomNavigationView Updates in the Material Components/Design Support Library</h1>
            </header>

            <figure class="post-full-image">
                <img srcset="../content/images/size/w300/2019/04/bottomappbar-3.jpg 300w,
                           ../content/images/size/w600/2019/04/bottomappbar-3.jpgg 600w,
                          ../content/images/size/w1000/2019/04/bottomappbar-3.jpgpg 1000w,
                         ../content/images/size/w2000/2019/04/bottomappbar-3.jpgjpg 2000w" sizes="(max-width: 800px) 400px,
                            (max-width: 1170px) 700px,
                            1400px" src="../content/images/size/w2000/2019/04/bottomappbar-3.jpg" alt="Bottoms Up! - BottomNavigationView Updates in the Material Components/Design Support Library">
            </figure>

            <section class="post-full-content">
                <div class="post-content">
                    <p>I've just removed the design support library and added the new Material Components library (<code>com.google.android.material:material:1.0.0-alpha3</code> as of writing) and currently there's some sea birds outside making noises that are hard to describe. But this is about the <code>BottomNavigationView</code> that resides in there and some updates that have been long awaited. (This should be the same if you update the design support library to <code>28.0.0-alpha3</code>, which just brings the new Material Components support library in instead)</p><p>In retrospect the title of this blog post would probably be better served in a post on the <code>BottomAppBar</code> but I've got nothing better.</p><h2 id="label-me-label-me-good">Label me, label me good</h2><!--kg-card-begin: image--><figure class="kg-card kg-image-card"><img src="../content/images/2018/06/label_mode_on.png" class="kg-image" alt="BottomNavigationView with LabelVisibilityMode set to labeled"></figure><!--kg-card-end: image--><p><em><code>LabelVisibilityMode</code> set to labeled</em></p><p>In some Google apps like YouTube and everyone's #1 social media platform G+, the <code>BottomNavigationView</code> has had labels on all 5 items. People cried out in horror; 1. Because this <em>was</em> against Material Design Guidelines and 2. Because there was no way for them to add labels to all items to all items using the <code>BottomNavigationView</code> provided with the support library.</p><p>Well now you can! All you need to do is set a <code>labelVisibilityMode</code>. This can currently be in one of 4 states.</p><ol><li><code>LABEL_VISIBILITY_LABELED</code> - shows labels on all items. Yes that would mean that 4 or 5 would have labels as well!</li><li><code>LABEL_VISIBILITY_SELECTED</code> - shows a label only on the selected item. This applies even if you only have 3 items or less.</li><li><code>LABEL_VISIBILITY_AUTO</code> - switches between <code>LABEL_VISIBILITY_LABELED</code>and <code>LABEL_VISIBILITY_SELECTED</code>. Basically the "old" BottomNavigationView style; when there's 3 items or less they will be labelled, when it's 4 or more only the selected item is labelled</li><li><code>LABEL_VISIBILITY_UNLABELED</code> - No labels on any items. That means even on 3 or less items.</li></ol><p>You can either set this by:</p><ul><li>Calling <code>setLabelVisibilityMode</code> on your <code>BottomNavigationView</code> programmatically and providing one of the above constants</li><li>Using the <code>app:labelVisibilityMode</code> attribute on the  <code>BottomNavigationView</code> in your layout XML and setting it to either <code>auto</code>, <code>labeled</code>, <code>unlabeled</code> or <code>selected</code></li></ul><p>You can find the docs for the <code>LabelVisibilityMode</code> <a href="https://developer.android.com/reference/com/google/android/material/bottomnavigation/LabelVisibilityMode.html">here</a>.</p><h2 id="super-size-me">Super Size Me</h2><p>You can now set the items icon size by:</p><ul><li>Calling either <code>setItemIconSize</code> with a size in DP (you'll probably need to convert it from pixels though) or <code>setItemIconSizeRes</code> and reference a resource dimension programmatically</li><li>Using the <code>app:itemIconSize</code> attribute on the <code>BottomNavigationView</code> in your layout XML</li></ul><h2 id="keeping-up-appearances">Keeping Up Appearances</h2><!--kg-card-begin: image--><figure class="kg-card kg-image-card"><img src="../content/images/2018/06/custom_font.png" class="kg-image" alt="BottomNavigationView with custom active and inactive text appearances"></figure><!--kg-card-end: image--><p><em>All label fonts set to Roboto Condensed and bold</em></p><p>You can now also change the text for your items when they are in an active and inactive state by:</p><ul><li>Calling <code>setItemTextAppearanceActive</code> or <code>setItemTextAppearanceInactive</code> with your <code>BottomNavigationView</code> programmatically and reference a style resource id</li><li>Using the <code>app:itemTextAppearanceActive</code> or <code>app:itemTextAppearanceInactive</code> on your <code>BottomNavigationView</code> in your layout XML and providing a style resource id</li></ul><h2 id="that-weird-selection-animation">That Weird Selection Animation</h2><!--kg-card-begin: image--><figure class="kg-card kg-image-card"><img src="../content/images/2018/06/transgif.gif" class="kg-image" alt="BottomNavigationView with ItemHorizontalTranslationEnabled enabled"></figure><!--kg-card-end: image--><ul><li>With `ItemHorizontalTranslationEnabled` set to true*</li></ul><!--kg-card-begin: image--><figure class="kg-card kg-image-card"><img src="../content/images/2018/06/2018-06-19-11_22_24.gif" class="kg-image" alt="BottomNavigationView with ItemHorizontalTranslationEnabled disabled"></figure><!--kg-card-end: image--><ul><li>With <code>ItemHorizontalTranslationEnabled</code> set to false*</li></ul><p>It maybe just for me, but in the weird translation animation when selecting an item from the <code>BottomNavigationView</code> never felt right. The good news is, if you feel the same as me, then you can now turn it off! You can do this by:</p><ul><li>Calling <code>setItemHorizontalTranslationEnabled</code> with your <code>BottomNavigationView</code> programmatically and set to <code>true</code> or <code>false</code></li><li>Using the <code>app:itemHorizontalTranslationEnabled</code> attribute on your on your <code>BottomNavigationView</code> in your layout XML and providing <code>true</code> or <code>false</code></li></ul><p>One thing to note, this doesn't seem the <code>itemHorizontalTranslationEnabled</code> setting doesn't seem to apply when your <code>LabelVisibilityMode</code> is set to <code>labeled</code> or <code>unlabeled</code>.</p><p>This is all much nicer now! And this should hopefully mean you don't need to use any 3rd party libraries or reflection hacks to change things. Squawk, squawk, fin.</p>
                </div>
            </section>


            <footer class="post-full-footer">


                    
<section class="author-card">
        <img class="author-profile-image" src="http://www.gravatar.com/avatar/2a389d50c33966a79a8cf6fe29c6080e?s=250&amp;d=mm&amp;r=x" alt="Mike Scamell">
    <section class="author-card-content">
        <h4 class="author-card-name"><a href="../author/mike/">Mike Scamell</a></h4>
            <p>Read <a href="../author/mike/">more posts</a> by this author.</p>
    </section>
</section>
<div class="post-full-footer-right">
    <a class="author-card-button" href="../author/mike/">Read More</a>
</div>


            </footer>


        </article>

    </div>
</main>

<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
                <article class="read-next-card">
                    <header class="read-next-card-header">
                        <small class="read-next-card-header-sitetitle">— Mike Scamell —</small>
                        <h3 class="read-next-card-header-title"><a href="../tag/androiddev/">androiddev</a></h3>
                    </header>
                    <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"></path></svg>
</div>
                    <div class="read-next-card-content">
                        <ul>
                            <li><a href="../a-sloths-guide-to-learning-kotlin/">A Sloth's guide to learning Kotlin</a></li>
                            <li><a href="../shared-element-transitions-updates/">Shared Element Transitions - Updates</a></li>
                            <li><a href="../shared-element-transitions-part-5/">Shared Element Transitions - Part 5:  Fixing Flashing/Blinking</a></li>
                        </ul>
                    </div>
                    <footer class="read-next-card-footer">
                        <a href="../tag/androiddev/">See all 9 posts →</a>
                    </footer>
                </article>


                <article class="post-card post tag-androiddev tag-kotlin ">

    <a class="post-card-image-link" href="../a-sloths-guide-to-learning-kotlin/">
        <img class="post-card-image" srcset="../content/images/size/w300/2018/11/6322945345_2d629d3eb2_b.jpg 300w,
                   ../content/images/size/w600/2018/11/6322945345_2d629d3eb2_b.jpgg 600w,
                  ../content/images/size/w1000/2018/11/6322945345_2d629d3eb2_b.jpgpg 1000w,
                 ../content/images/size/w2000/2018/11/6322945345_2d629d3eb2_b.jpgjpg 2000w" sizes="(max-width: 1000px) 400px, 700px" src="../content/images/size/w600/2018/11/6322945345_2d629d3eb2_b.jpg" alt="A Sloth's guide to learning Kotlin">
    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="../a-sloths-guide-to-learning-kotlin/">

            <header class="post-card-header">
                    <span class="post-card-tags">androiddev</span>
                <h2 class="post-card-title">A Sloth's guide to learning Kotlin</h2>
            </header>

            <section class="post-card-excerpt">
                <p>I'm starting to learn Kotlin. I'm pretty sure a large majority of all Android devs are also doing this right now. There are plenty of blog posts, videos, podcasts, talks etc. etc. being</p>
            </section>

        </a>

        <footer class="post-card-meta">

            <ul class="author-list">
                <li class="author-list-item">

                    <div class="author-name-tooltip">
                        Mike Scamell
                    </div>

                        <a href="../author/mike/" class="static-avatar">
                            <img class="author-profile-image" src="http://www.gravatar.com/avatar/2a389d50c33966a79a8cf6fe29c6080e?s=250&amp;d=mm&amp;r=x" alt="Mike Scamell">
                        </a>
                </li>
            </ul>

            <span class="reading-time">2 min read</span>

        </footer>

    </div>

</article>

        </div>
    </div>
</aside>

<div class="floating-header">
    <div class="floating-header-logo">
        <a href="../">
            <span>Mike Scamell</span>
        </a>
    </div>
    <span class="floating-header-divider">—</span>
    <div class="floating-header-title">Bottoms Up! - BottomNavigationView Updates in the Material Components/Design Support Library</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"></path>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=Bottoms%20Up!%20-%20BottomNavigationView%20Updates%20in%20the%20Material%20Components%2FDesign%20Support%20Library&amp;url=https://mikescamell.com/bottoms-up-bottomnavigationview-updates-in-the-material-design-design-support-library/" onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"></path></svg>
        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://mikescamell.com/bottoms-up-bottomnavigationview-updates-in-the-material-design-design-support-library/" onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"></path></svg>
        </a>
    </div>
    <progress id="reading-progress" class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>




        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="../">Mike Scamell</a> © 2019</section>
                <nav class="site-footer-nav">
                    <a href="../">Latest Posts</a>
                    
                    <a href="https://twitter.com/mikescamell" target="_blank" rel="noopener">Twitter</a>
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>


    <script>
        var images = document.querySelectorAll('.kg-gallery-image img');
        images.forEach(function (image) {
            var container = image.closest('.kg-gallery-image');
            var width = image.attributes.width.value;
            var height = image.attributes.height.value;
            var ratio = width / height;
            container.style.flex = ratio + ' 1 0%';
        })
    </script>


    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="../assets/built/jquery.fitvids.js?v=bd286ef966"></script>


    <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('#reading-progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();

});
</script>


    

</body>
